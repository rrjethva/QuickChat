(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{20:function(e,n,t){e.exports=t(37)},30:function(e,n,t){},31:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(8),i=t.n(o),c=t(7),s=t(6),u=t(18),l=(t(30),t(31),function(e){var n=e.users;return r.a.createElement("aside",{id:"sidebar",className:"sidebar"},r.a.createElement("ul",null,n.map((function(e){return r.a.createElement("li",{key:e.id},e.name)}))))}),f=Object(c.b)((function(e){return{users:e.users}}),{})(l),d=function(e){var n=e.message,t=e.author;return r.a.createElement("p",null,r.a.createElement("i",null,t),": ",n)},m=function(e){var n=e.messages;return r.a.createElement("section",{id:"messages-list"},r.a.createElement("ul",null,n.map((function(e){return r.a.createElement(d,Object.assign({key:e.id},e))}))))},E=Object(c.b)((function(e){return{messages:e.messages}}),{})(m),h=function(e){var n;return r.a.createElement("section",{id:"new-message"},r.a.createElement("input",{onKeyPress:function(t){"Enter"===t.key&&(e.dispatch(n.value,"Me"),n.value="")},type:"text",ref:function(e){n=e}}))},g=0,v=Object(c.b)((function(){return{}}),(function(e){return{dispatch:function(n,t){e(function(e,n){return{type:"ADD_MESSAGE",id:g++,message:e,author:n}}(n,t))}}}))(h),p=function(){return r.a.createElement("div",{id:"container"},r.a.createElement(f,null),r.a.createElement("section",{id:"main"},r.a.createElement(E,null),r.a.createElement(v,null)))},w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_MESSAGE":case"MESSAGE_RECEIVED":return e.concat([{message:n.message,author:n.author,id:n.id}]);default:return e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"USERS_LIST":return n.users;default:return e}},y=Object(s.c)({messages:b,users:k}),O=t(13),A=t.n(O),D=t(19),j=A.a.mark((function e(n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)("ADD_MESSAGE",(function(e){e.author=n.username,n.socket.send(JSON.stringify(e))}));case 2:case"end":return e.stop()}}),e)})),_=function(e,n){var t=new WebSocket("ws://localhost:8989");return t.onopen=function(){t.send(JSON.stringify({type:"ADD_USER",name:n}))},t.onmessage=function(n){var t,a,r=JSON.parse(n.data);switch(r.type){case"ADD_MESSAGE":e((t=r.message,a=r.author,{type:"MESSAGE_RECEIVED",id:g++,message:t,author:a}));break;case"USERS_LIST":e({types:"USERS_LIST",users:r.users})}},t},M=t(17),R=(new(t.n(M).a)).first(),G=Object(u.a)(),I=Object(s.e)(y,Object(s.a)(G)),N=_(I.dispatch,R);G.run(j,{socket:N,username:R}),i.a.render(r.a.createElement(c.a,{store:I},r.a.createElement(p,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/QuickChat",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/QuickChat","/service-worker.js");w?function(e){fetch(e).then((function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):S(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):S(e)}))}}()}},[[20,1,2]]]);
//# sourceMappingURL=main.8bce0e6e.chunk.js.map